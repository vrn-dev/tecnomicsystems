<template>
  <div>
    <div class="container bg-blue-100">
      <div class="flex-col">
        <div class="flex justify-center subtitle">
          <div class="flex-col">
            <h1>Contact Us</h1>
            <!-- <div class="grid grid-cols-2 gap-12 mt-10"> -->
            <div
              class="flex flex-col-reverse items-center justify-center content-center mt-10 w-screen md:flex-row md:items-start"
            >
              <div
                class="flex-col justify-center text-xl text-left p-6 w-11/12 md:w-2/5"
              >
                <h2 class="font-semibold">
                  Singapore HQ
                </h2>
                <h2 class="font-semibold">Tecnomic Systems Pte. Ltd.</h2>
                <div>120 Lower Delta Road, #08-12 Cendex Center</div>
                <div>Singapore 169208</div>
                <div>
                  Contact: Mr. Chee Wai Tham -
                  <a href="mailto:cwtham@tecnomic.com">cwtham@tecnomic.com</a>
                </div>
                <div>Mob: +60 12 3780680</div>
                <div>Tel: +65 63258576</div>
                <div>Fax: +65 65151803</div>
                <a
                  href="https://www.google.com/maps/place/Tecnomic+Systems+Pte+Ltd/@1.2799755,103.823626,9z/data=!4m8!1m2!2m1!1stecnomic+systems+pte+ltd!3m4!1s0x31da190ea37960af:0x3d36c4789d4509b5!8m2!3d1.2799417!4d103.8230191"
                  >Map Location</a
                >
                <div class="mt-5"></div>
                <h2 class="font-semibold">
                  Malaysia
                </h2>
                <h2 class="font-semibold">
                  Tecnomic Systems Sdh. Bhd.
                </h2>
                <div>27A 1st Floor Jalan SS21/60, Damansara Utama 47400</div>
                <div>Petaling Jaya Selangor, Malaysia</div>
                <div>
                  Contact: Mr. Chee Wai Tham -
                  <a href="mailto:cwtham@tecnomic.com">cwtham@tecnomic.com</a>
                </div>
                <div>Mob: +60 12 3780680</div>
                <div>Tel: +60 3 77106496</div>
                <div>Fax: +60 3 77223923</div>
                <a
                  href="https://www.google.com/maps/place/Tecnomic+Systems+Sdn+Bhd/@3.132818,101.623148,15z/data=!4m2!3m1!1s0x0:0xcb2d42dc4eaff31a?sa=X&ved=2ahUKEwiDqOytupPnAhUFA3IKHSqKCmoQ_BIwCnoECA0QCA"
                  >Map Location</a
                >
                <div class="mt-5"></div>
                <h2 class="font-semibold">Indonesia</h2>
                <div>
                  Contact: Mr. Ganjar -
                  <a href="mailto:ganjar@tecnomic.com">ganjar@tecnomic.com</a>
                </div>
                <div>Mob: +62 817228801</div>
                <div class="mt-5"></div>
                <h2 class="font-semibold">Thailand</h2>
                <div>
                  Contact: Mr. Phuwish -
                  <a href="mailto:phuwish@tecnomic.com">phuwish@tecnomic.com</a>
                </div>
                <div>Mob: +62 817228801</div>
                <div class="mt-5"></div>
                <h2 class="font-semibold">
                  India
                </h2>
                <div class="font-semibold">
                  Bangalore
                </div>
                <h2 class="font-semibold">
                  Tecnomic Systems and Networks Pvt. Ltd.
                </h2>
                <div>1st Floor, Maruthi Towers, 138, HAL Airport Road</div>
                <div>Bangalore 560008</div>
                <div>
                  Contact: Mr. Amiya Kumar -
                  <a href="mailto:amiya@tecnomic.com">amiya@tecnomic.com</a>
                </div>
                <div>Mob: +91 99023 13655</div>
                <div>Tel: +91 80 2528 6934</div>
                <div>Fax: +91 80 2521 4860</div>
                <a href="https://goo.gl/maps/59Tdqu3qpeysJmKu7">Map Location</a>
                <div class="mt-5"></div>
                <h2 class="font-semibold">
                  Noida
                </h2>
                <div>A-201, Tower 1, Highway Tower, Plot A-13, Sector 62</div>
                <div>Noida 201309</div>
                <div>
                  Contact: Mr. Shibu Jacob -
                  <a href="mailto:shibu@tecnomic.com">shibu@tecnomic.com</a>
                </div>
                <div>Mob: +91 98113 22107</div>
                <div>Tel: +91 120 6541555</div>
                <a href="https://goo.gl/maps/J9WA859S6XxQbW5C6">Map Location</a>
                <div class="mt-5"></div>
                <h2 class="font-semibold">
                  UAE - Dubai
                </h2>
                <h2 class="font-semibold">
                  Tecnomic Systems Middle East &amp; Africa LLC.
                </h2>
                <div>#805-46, Opal Tower, Business Bay</div>
                <div>PO Box 116410, Dubai, UAE</div>
                <div>
                  Contact: Mr. Vaisakh Nair -
                  <a href="mailto:vaisakh@tecnomicsystems.com"
                    >vaisakh@tecnomicsystems.com</a
                  >
                </div>
                <div>Mob: +971 50 450 3530</div>
                <div>Tel: +971 4 370 6360</div>
                <a href="https://goo.gl/maps/3yAWEb6wdV2gAciQA">Map Location</a>
                <div class="mt-5"></div>
                <h2 class="font-semibold">
                  Australia
                </h2>
                <h2 class="font-semibold">
                  AMFA Systems Pty. Ltd.
                </h2>
                <div>88 Bluebell Drive, Craigieburn, 3064</div>
                <div>Victoria, Australia</div>
                <div>
                  Contact: Mr. Bilal Siddiqui -
                  <a href="mailto:bilal@tecnomic.com">bilal@tecnomic.com</a>
                </div>
                <div>Mob: +61 435 899 001</div>
                <a href="https://goo.gl/maps/9PhsDK5GVLY9GhRW6">Map Location</a>
              </div>
              <div class="flex justify-center mt-5 w-11/12 md:w-2/5">
                <form
                  @submit.prevent="sendEmail"
                  class="border border-purple-700 p-10 w-11/12"
                >
                  <!-- Name -->
                  <div class="flex justify-start">
                    <label
                      v-if="!nameError"
                      for="name"
                      class="text-xl text-left"
                      >Name*</label
                    >
                    <label
                      v-else
                      for="name"
                      class="text-xl text-left text-red-700 font-semibold"
                      >Name is Required</label
                    >
                  </div>
                  <div class="flex items-stretch">
                    <input
                      v-model="msg.name"
                      type="text"
                      name="name"
                      class="w-full text-xl p-2"
                    />
                  </div>
                  <!-- Company -->
                  <div class="flex justify-start">
                    <label
                      v-if="!companyError"
                      for="name"
                      class="text-xl text-left"
                      >Company*</label
                    >
                    <label
                      v-else
                      for="name"
                      class="text-xl text-left text-red-700 font-semibold"
                      >Company Name is Required</label
                    >
                  </div>
                  <div class="flex items-stretch">
                    <input
                      v-model="msg.company"
                      type="text"
                      name="name"
                      class="w-full text-xl p-2"
                    />
                  </div>
                  <!-- Region -->
                  <div class="flex justify-start mt-5">
                    <label
                      v-if="!regionError"
                      for="region"
                      class="text-xl text-left"
                      >Region*</label
                    >
                    <label
                      v-else
                      for="region"
                      class="text-xl text-left text-red-700 font-semibold"
                      >Region is Required</label
                    >
                  </div>
                  <div class="flex items-stretch">
                    <select
                      v-model="msg.region"
                      name="region"
                      id="region"
                      class="w-full text-xl p-2 bg-white"
                    >
                      <option value="sea">South East Asia</option>
                      <option value="sa">South Asia</option>
                      <option value="mea">Middle East &amp; Africa</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                  <!-- Email -->
                  <div class="flex justify-start mt-5">
                    <label
                      v-if="!emailError"
                      for="email"
                      class="text-xl text-left"
                      >Email*</label
                    >
                    <label
                      v-else
                      for="email"
                      class="text-xl text-left text-red-700 font-semibold"
                      >Email is Required</label
                    >
                  </div>
                  <div class="flex items-stretch">
                    <input
                      v-model="msg.email"
                      type="email"
                      name="email"
                      class="w-full text-xl p-2"
                    />
                  </div>
                  <!-- Phone -->
                  <div class="flex justify-start mt-5">
                    <label for="phone" class="text-xl text-left">Phone</label>
                  </div>
                  <div class="flex items-stretch">
                    <input
                      v-model="msg.phone"
                      type="text"
                      name="phone"
                      class="w-full text-xl p-2"
                    />
                  </div>
                  <!-- Message -->
                  <div class="flex justify-start mt-5">
                    <label
                      v-if="!msgError"
                      for="message"
                      class="text-xl text-left"
                      >Message*</label
                    >
                    <label
                      v-else
                      for="message"
                      class="text-xl text-left text-red-700 font-semibold"
                      >Message is Required</label
                    >
                  </div>
                  <div class="flex items-stretch">
                    <textarea
                      v-model="msg.message"
                      name="message"
                      id="message"
                      rows="3"
                      class="w-full text-xl p-2"
                    ></textarea>
                  </div>
                  <div v-if="!submitted" class="flex justify-start mt-5">
                    <button
                      class="text-xl border border-pink-800 rounded-md px-5 py-1 bg-purple-500 text-white"
                    >
                      Submit
                    </button>
                  </div>
                  <div v-else class="flex justify-start mt-5">
                    <div class="text-xl text-pink-800">
                      Thank you! Message submitted... We will get back to
                      shortly.
                    </div>
                  </div>
                  <div v-if="sendError" class="flex justify-start mt-5">
                    <div class="text-xl text-pink-800">
                      An error occured while trying to send your message! Please
                      try again later or click on this link to message us
                      directly -
                      <a
                        href="mailto:sales@tecnomic.com"
                        class="font-semibold underline"
                        >Email Us</a
                      >
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  computed: {
    isValid() {
      return (
        this.msg.name &&
        this.msg.company &&
        this.msg.region &&
        this.msg.email &&
        this.msg.message
      );
    }
  },
  data: () => ({
    submitted: false,
    valid: false,
    nameError: false,
    companyError: false,
    regionError: false,
    emailError: false,
    msgError: false,
    sendError: false,
    msg: {
      name: '',
      company: '',
      region: '',
      email: '',
      phone: '',
      message: ''
    }
  }),
  methods: {
    async sendEmail() {
      if (!this.isValid) {
        if (!this.msg.name) this.nameError = true;
        if (!this.msg.company) this.companyError = true;
        if (!this.msg.region) this.regionError = true;
        if (!this.msg.email) this.emailError = true;
        if (!this.msg.message) this.msgError = true;
        return 0;
      } else {
        this.nameError = false;
        this.companyError = false;
        this.regionError = false;
        this.emailError = false;
        this.msgError = false;
        this.submitted = true;
        try {
          await this.$axios.post(
            'https://us-central1-tecnomic-systems-web.cloudfunctions.net/sendMail',
            {
              email: this.msg.email,
              name: this.msg.name,
              company: this.msg.company,
              region: this.msg.region,
              message: this.msg.message,
              phone: this.msg.phone ? this.msg.phone : 'NA'
            }
          );
        } catch (error) {
          // eslint-disable-next-line
          console.error(error);
          this.sendError = true;
        }
      }
    }
  },
  head() {
    return {
      title: 'Tecnomic | Contact Us'
    };
  }
};
</script>

<style></style>
